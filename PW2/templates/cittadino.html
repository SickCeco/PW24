{% extends 'base.html' %}
<!DOCTYPE HTML>
<html>
    <head>
        <title>Cittadino</title>
        {% load static %}
        <link rel="shortcut icon" href="{% static 'img/GOOFY_HOSPITAL__1_.png' %}" />
        <link rel="stylesheet" href="{% static 'css/styles.css' %}">
        <script src="{% static 'js/script.js' %}"></script>
    </head>

<body>
    
{% block title %}Cittadini{% endblock %}

{% block content %}
<div class="container">
    <h2>Lista dei Cittadini</h2>
    <form id="form_cittadini" method="get" action="{% url 'cittadino' %}">
        <button type="button" class="reset" onClick="resetFormC()">
            <span class="reset">Reset &#128260</span>
        </button>
        <input type="text" value="{{ request.GET.filtro_cssn }}" placeholder="CSSN" id="filtro_cssn" name="filtro_cssn" pattern="CSSN\d+" class="code_input" title="Il codice deve essere nel formato CSSN seguito da almeno un numero.">
        <input type="text" value="{{ request.GET.filtro_nome }}" placeholder="Nome" id="filtro_nome" name="filtro_nome">
        <input type="text" value="{{ request.GET.filtro_cognome }}" placeholder="Cognome" id="filtro_cognome" name="filtro_cognome">
        <input type="date" value="{{ request.GET.filtro_dataNascita }}" placeholder="Data di Nascita" id="filtro_dataNascita" name="filtro_dataNascita">
        <input type="text" value="{{ request.GET.filtro_luogoNascita }}" placeholder="Luogo di Nascita" id="filtro_luogoNascita" name="filtro_luogoNascita">
        <input type="text" value="{{ request.GET.filtro_indirizzo }}" placeholder="Indirizzo" id="filtro_indirizzo" name="filtro_indirizzo" pattern="^[A-Za-z\s]+,\s\d+$" title="L'indirizzo deve essere nel formato 'Nome della Via, Numero Civico'.">
        <button type="submit"><span>Cerca &#128269</span></button>
    </form>
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th onclick="sortTable(0)">CSSN ↕</th>
                    <th onclick="sortTable(1)">Nome ↕</th>
                    <th onclick="sortTable(2)">Cognome ↕</th>
                    <th onclick="sortTable(3)">Data di Nascita ↕</th>
                    <th onclick="sortTable(4)">Luogo di Nascita ↕</th>
                    <th onclick="sortTable(5)">Indirizzo ↕</th>
                </tr>
            </thead>
            <tbody>
                {% for cittadino in cittadini %}
                <tr>
                    <td>{{ cittadino.cssn }}</td>
                    <td>{{ cittadino.nome }}</td>
                    <td>{{ cittadino.cognome }}</td>
                    <td>{{ cittadino.DataNascita }}</td>
                    <td>{{ cittadino.LuogoNascita }}</td>
                    <td>{{ cittadino.indirizzo }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

    {% include 'footer.html' %}
</body>
</html>
